# Single-Cycle RISC-V RV32I Processor

This repository contains the implementation of a **single-cycle RISC-V RV32I processor**. The design adheres to the RISC-V instruction set architecture (ISA) for 32-bit integer operations, commonly referred to as RV32I. The processor is based on a standard single-cycle datapath.

---

## Features

- **Architecture**: Implements the RV32I base integer instruction set.
- **Design**: Follows a single-cycle processor model, meaning all instructions execute in a single clock cycle.
- **Modules**:
  - **Program Counter (PC)**: Holds the address of the current instruction.
  - **Instruction Memory (Imem)**: Fetches instructions for execution.
  - **Register File (Regfile)**: Provides read/write access to 32 general-purpose registers.
  - **Immediate Generator (Immgen)**: Decodes and generates immediate values.
  - **ALU**: Performs arithmetic and logic operations.
  - **Branch Comparator (Brcmp)**: Handles conditional branch instructions.
  - **Load/Store Unit (LSU)**: Manages data memory access for load/store instructions.
- **Control Unit**: Generates control signals for all modules.
- **I/O Interface**: Enables interaction with peripherals such as LEDs, switches, and debugging outputs.

---

## Supported Instructions

The following instruction types are supported:

1. **R-Type**: Arithmetic and logical operations.
   - `ADD`, `SUB`, `AND`, `OR`, `XOR`, `SLL`, `SRL`, `SRA`, `SLT`, `SLTU`
2. **I-Type**: Immediate arithmetic, load instructions, and some control transfers.
   - `ADDI`, `ANDI`, `ORI`, `XORI`, `SLLI`, `SRLI`, `SRAI`, `SLTI`, `SLTIU`, `LB`, `LH`, `LW`, `LBU`, `LHU`, `JALR`
3. **S-Type**: Store instructions.
   - `SB`, `SH`, `SW`
4. **B-Type**: Conditional branches.
   - `BEQ`, `BNE`, `BLT`, `BGE`, `BLTU`, `BGEU`
5. **J-Type**: Jump instructions.
   - `JAL`
6. **U-Type**: Immediate values for upper bits.
   - `LUI`, `AUIPC`

---

## Block Diagram Description

The processor consists of the following key components:

- **Program Counter (PC)**: Holds the address of the current instruction and increments it by 4 for sequential execution.
- **Instruction Memory (Imem)**: Provides the instruction at the address specified by the PC.
- **Register File (Regfile)**: Provides read access to two source registers and write access to the destination register.
- **Immediate Generator (Immgen)**: Extracts and signs-extends immediate values for I-Type, S-Type, B-Type, U-Type and J-Type instructions.
- **ALU**: Performs arithmetic and logical operations on two inputs.
- **Branch Comparator (Brcmp)**: Determines the outcome of conditional branches.
- **Load/Store Unit (LSU)**: Handles data memory access for load and store instructions.
- **Control Unit (Ctrlunit)**: Generates control signals based on the opcode, determining the behavior of the processor.
- **Multiplexers**: Allow dynamic selection of inputs for operands, write-back data, and next PC address.

---

## Control Signals

The processor is controlled by a set of control signals generated by the **Control Unit**:

| Signal   | Description                                      |
|----------|--------------------------------------------------|
| `pcsel`  | Selects the source of the next PC address        |
| `immsel` | Selects the immediate extension mode             |
| `brun`   | Selects signed or unsigned for branch comparison |
| `asel`   | Selects the first ALU operand                    |
| `bsel`   | Selects the second ALU operand                   |
| `op`     | Specifies the ALU operation                      |
| `regwen` | Enables writing to the register file             |
| `wren`   | Enables memory write in the LSU                  |
| `wbsel`  | Selects data for write-back to registers         |

---

## I/O Interface

The processor includes basic input/output capabilities for debugging and testing:

| I/O Signal | Description                      |
|------------|----------------------------------|
| `ledr`     | Output to red LEDs               |
| `ledg`     | Output to green LEDs             |
| `hex0..7`  | Output to 7-segment displays     |
| `sw`       | Input switches                   |
| `btn`      | Input buttons                    |
| `pcdebug`  | Debug output for program counter |

---

## Future Enhancements

- Implement **pipelining** to improve processor throughput.
- Add support for the **RV32M** (multiplication and division) extension.
- Extend the design for **interrupt handling** and basic exceptions.

---

## References

1. [RISC-V Instruction Set Manual](https://riscv.org/technical/specifications/)
2. [RISC-V Assembly Programming](https://riscvasm.github.io/)

---

**Author**: GHP 

---
